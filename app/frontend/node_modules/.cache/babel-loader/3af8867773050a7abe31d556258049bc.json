{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _lodash = require(\"lodash\");\n\nvar _WaveCanvas = require(\"./WaveCanvas\");\n\nvar _WaveCanvas2 = _interopRequireDefault(_WaveCanvas);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Waveform = function (_React$Component) {\n  _inherits(Waveform, _React$Component); // static propTypes = {\n  //   barWidth: PropTypes.number,\n  //   color: PropTypes.string,\n  //   duration: PropTypes.number.isRequired,\n  //   gradientColors: PropTypes.arrayOf(\n  //     PropTypes.arrayOf(\n  //       PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n  //     ).isRequired\n  //   ),\n  //   height: PropTypes.number.isRequired,\n  //   onClick: PropTypes.func,\n  //   peaks: PropTypes.arrayOf(PropTypes.number.isRequired),\n  //   pixelRatio: PropTypes.number.isRequired,\n  //   pos: PropTypes.number.isRequired, // num of seconds\n  //   progressColor: PropTypes.string,\n  //   progressGradientColors: PropTypes.arrayOf(\n  //     PropTypes.arrayOf(\n  //       PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n  //     ).isRequired\n  //   ),\n  // }\n\n\n  function Waveform(props) {\n    _classCallCheck(this, Waveform);\n\n    var _this = _possibleConstructorReturn(this, (Waveform.__proto__ || Object.getPrototypeOf(Waveform)).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.resize();\n\n      window.addEventListener(\"resize\", _this.resize);\n    };\n\n    _this.shouldComponentUpdate = function (nextProps, nextState) {\n      var stateChanged = !(0, _lodash.isEqual)(_this.state, nextState);\n      var peaksChanged = !(0, _lodash.isEqual)(_this.props.peaks, nextProps.peaks);\n      var posChanged = _this.props.pos !== nextProps.pos;\n      var durationChanged = _this.props.duration !== nextProps.duration;\n      var colorChanged = _this.props.color !== nextProps.color;\n      var gradientChanged = !(0, _lodash.isEqual)(_this.props.gradientColors, nextProps.gradientColors);\n      var progressColorChanged = _this.props.progressColor !== nextProps.progressColor;\n      var progressGradientChanged = !(0, _lodash.isEqual)(_this.props.progressGradientColors, nextProps.progressGradientColors);\n      return stateChanged || peaksChanged || posChanged || durationChanged || colorChanged || gradientChanged || progressColorChanged || progressGradientChanged;\n    };\n\n    _this.componentWillUnmount = function () {\n      window.removeEventListener(\"resize\", _this.resize);\n    };\n\n    _this.handleClick = function (e) {\n      var percentageOffsetX = e.nativeEvent.offsetX / _this.state.width;\n\n      _this.props.onClick(Math.round(percentageOffsetX * _this.props.duration));\n    };\n\n    _this.max = function (values) {\n      var max = -Infinity;\n      values.forEach(function (i) {\n        if (values[i] > max) {\n          max = values[i];\n        }\n      });\n      return max;\n    };\n\n    _this.min = function (values) {\n      var min = +Infinity;\n      values.forEach(function (i) {\n        if (values[i] < min) {\n          min = values[i];\n        }\n      });\n      return min;\n    };\n\n    _this.resize = function () {\n      var containerWidth = _reactDom2.default.findDOMNode(_this.wrapper).clientWidth;\n\n      _this.setState({\n        width: containerWidth,\n        waveWidth: containerWidth * _this.props.pixelRatio,\n        waveHeight: _this.props.height * _this.props.pixelRatio\n      });\n    };\n\n    _this.progressWaveStyle = function () {\n      return {\n        position: \"absolute\",\n        zIndex: 2,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        height: _this.props.height + \"px\",\n        width: _this.progressWidth() + \"px\",\n        display: \"block\",\n        transition: \"width \" + _this.props.transitionDuration + \"ms ease-in-out\",\n        boxSizing: \"border-box\"\n      };\n    };\n\n    _this.progressWidth = function () {\n      var percentageComplete = _this.props.pos / _this.props.duration;\n      return _this.state.width * percentageComplete;\n    };\n\n    _this.state = {\n      width: 0,\n      waveWidth: 0,\n      waveHeight: props.height\n    };\n    return _this;\n  }\n\n  _createClass(Waveform, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\"div\", {\n        ref: function ref(instance) {\n          _this2.wrapper = instance;\n        },\n        onClick: this.handleClick,\n        style: {\n          position: \"relative\",\n          width: \"100%\",\n          height: \"100%\",\n          cursor: \"pointer\"\n        }\n      }, _react2.default.createElement(_WaveCanvas2.default, {\n        color: this.props.color,\n        barWidth: this.props.barWidth,\n        gradientColors: this.props.gradientColors,\n        peaks: this.props.peaks,\n        width: this.state.waveWidth,\n        height: this.state.waveHeight\n      }), _react2.default.createElement(\"div\", {\n        style: this.progressWaveStyle()\n      }, _react2.default.createElement(_WaveCanvas2.default, {\n        ref: function ref(instance) {\n          _this2.progress = instance;\n        },\n        className: \"progress\",\n        barWidth: this.props.barWidth,\n        color: this.props.progressColor,\n        gradientColors: this.props.progressGradientColors,\n        peaks: this.props.peaks,\n        width: this.state.waveWidth,\n        height: this.state.waveHeight\n      })));\n    }\n  }]);\n\n  return Waveform;\n}(_react2.default.Component);\n\nWaveform.defaultProps = {\n  height: 30,\n  onClick: function onClick() {},\n  pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n  progressColor: \"#555555\",\n  transitionDuration: 200\n};\nexports.default = Waveform;","map":{"version":3,"sources":["/Users/kaspar/Documents/GitHub/React-Django-startApp/app/frontend/node_modules/react-audio-waveform/dist/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_lodash","_WaveCanvas","_WaveCanvas2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Waveform","_React$Component","_this","getPrototypeOf","componentDidMount","resize","window","addEventListener","shouldComponentUpdate","nextProps","nextState","stateChanged","isEqual","state","peaksChanged","peaks","posChanged","pos","durationChanged","duration","colorChanged","color","gradientChanged","gradientColors","progressColorChanged","progressColor","progressGradientChanged","progressGradientColors","componentWillUnmount","removeEventListener","handleClick","e","percentageOffsetX","nativeEvent","offsetX","width","onClick","Math","round","max","values","Infinity","forEach","min","containerWidth","findDOMNode","wrapper","clientWidth","setState","waveWidth","pixelRatio","waveHeight","height","progressWaveStyle","position","zIndex","left","top","bottom","overflow","progressWidth","display","transition","transitionDuration","boxSizing","percentageComplete","render","_this2","createElement","ref","style","cursor","barWidth","progress","className","Component","defaultProps","devicePixelRatio","screen","deviceXDPI","logicalXDPI"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _lodash = require(\"lodash\");\n\nvar _WaveCanvas = require(\"./WaveCanvas\");\n\nvar _WaveCanvas2 = _interopRequireDefault(_WaveCanvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Waveform = function (_React$Component) {\n  _inherits(Waveform, _React$Component);\n\n  // static propTypes = {\n  //   barWidth: PropTypes.number,\n  //   color: PropTypes.string,\n  //   duration: PropTypes.number.isRequired,\n  //   gradientColors: PropTypes.arrayOf(\n  //     PropTypes.arrayOf(\n  //       PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n  //     ).isRequired\n  //   ),\n  //   height: PropTypes.number.isRequired,\n  //   onClick: PropTypes.func,\n  //   peaks: PropTypes.arrayOf(PropTypes.number.isRequired),\n  //   pixelRatio: PropTypes.number.isRequired,\n  //   pos: PropTypes.number.isRequired, // num of seconds\n  //   progressColor: PropTypes.string,\n  //   progressGradientColors: PropTypes.arrayOf(\n  //     PropTypes.arrayOf(\n  //       PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n  //     ).isRequired\n  //   ),\n  // }\n\n  function Waveform(props) {\n    _classCallCheck(this, Waveform);\n\n    var _this = _possibleConstructorReturn(this, (Waveform.__proto__ || Object.getPrototypeOf(Waveform)).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.resize();\n      window.addEventListener(\"resize\", _this.resize);\n    };\n\n    _this.shouldComponentUpdate = function (nextProps, nextState) {\n      var stateChanged = !(0, _lodash.isEqual)(_this.state, nextState);\n      var peaksChanged = !(0, _lodash.isEqual)(_this.props.peaks, nextProps.peaks);\n      var posChanged = _this.props.pos !== nextProps.pos;\n      var durationChanged = _this.props.duration !== nextProps.duration;\n      var colorChanged = _this.props.color !== nextProps.color;\n      var gradientChanged = !(0, _lodash.isEqual)(_this.props.gradientColors, nextProps.gradientColors);\n      var progressColorChanged = _this.props.progressColor !== nextProps.progressColor;\n      var progressGradientChanged = !(0, _lodash.isEqual)(_this.props.progressGradientColors, nextProps.progressGradientColors);\n      return stateChanged || peaksChanged || posChanged || durationChanged || colorChanged || gradientChanged || progressColorChanged || progressGradientChanged;\n    };\n\n    _this.componentWillUnmount = function () {\n      window.removeEventListener(\"resize\", _this.resize);\n    };\n\n    _this.handleClick = function (e) {\n      var percentageOffsetX = e.nativeEvent.offsetX / _this.state.width;\n      _this.props.onClick(Math.round(percentageOffsetX * _this.props.duration));\n    };\n\n    _this.max = function (values) {\n      var max = -Infinity;\n      values.forEach(function (i) {\n        if (values[i] > max) {\n          max = values[i];\n        }\n      });\n\n      return max;\n    };\n\n    _this.min = function (values) {\n      var min = +Infinity;\n      values.forEach(function (i) {\n        if (values[i] < min) {\n          min = values[i];\n        }\n      });\n\n      return min;\n    };\n\n    _this.resize = function () {\n      var containerWidth = _reactDom2.default.findDOMNode(_this.wrapper).clientWidth;\n      _this.setState({\n        width: containerWidth,\n        waveWidth: containerWidth * _this.props.pixelRatio,\n        waveHeight: _this.props.height * _this.props.pixelRatio\n      });\n    };\n\n    _this.progressWaveStyle = function () {\n      return {\n        position: \"absolute\",\n        zIndex: 2,\n        left: 0,\n        top: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        height: _this.props.height + \"px\",\n        width: _this.progressWidth() + \"px\",\n        display: \"block\",\n        transition: \"width \" + _this.props.transitionDuration + \"ms ease-in-out\",\n        boxSizing: \"border-box\"\n      };\n    };\n\n    _this.progressWidth = function () {\n      var percentageComplete = _this.props.pos / _this.props.duration;\n      return _this.state.width * percentageComplete;\n    };\n\n    _this.state = {\n      width: 0,\n      waveWidth: 0,\n      waveHeight: props.height\n    };\n    return _this;\n  }\n\n  _createClass(Waveform, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        \"div\",\n        {\n          ref: function ref(instance) {\n            _this2.wrapper = instance;\n          },\n          onClick: this.handleClick,\n          style: {\n            position: \"relative\",\n            width: \"100%\",\n            height: \"100%\",\n            cursor: \"pointer\"\n          }\n        },\n        _react2.default.createElement(_WaveCanvas2.default, {\n          color: this.props.color,\n          barWidth: this.props.barWidth,\n          gradientColors: this.props.gradientColors,\n          peaks: this.props.peaks,\n          width: this.state.waveWidth,\n          height: this.state.waveHeight\n        }),\n        _react2.default.createElement(\n          \"div\",\n          {\n            style: this.progressWaveStyle()\n          },\n          _react2.default.createElement(_WaveCanvas2.default, {\n            ref: function ref(instance) {\n              _this2.progress = instance;\n            },\n            className: \"progress\",\n            barWidth: this.props.barWidth,\n            color: this.props.progressColor,\n            gradientColors: this.props.progressGradientColors,\n            peaks: this.props.peaks,\n            width: this.state.waveWidth,\n            height: this.state.waveHeight\n          })\n        )\n      );\n    }\n  }]);\n\n  return Waveform;\n}(_react2.default.Component);\n\nWaveform.defaultProps = {\n  height: 30,\n  onClick: function onClick() {},\n  pixelRatio: window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI,\n  progressColor: \"#555555\",\n  transitionDuration: 200 };\nexports.default = Waveform;"]},"metadata":{},"sourceType":"script"}