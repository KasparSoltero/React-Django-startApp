{"ast":null,"code":"var _jsxFileName = \"/Users/kaspar/Documents/GitHub/React-Django-startApp/app/frontend/src/Components/Highlights.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Highlights(props) {\n  _s();\n\n  const [noiseclips, setNoiseclips] = useState(null);\n  useEffect(() => {\n    console.log('tolato');\n    updateNoiseclips();\n  }, [props]);\n\n  function updateNoiseclips() {\n    //get noiseclips associated with audioFile from database\n    const form = new FormData();\n    form.append('object', 'Noiseclip');\n    form.append('return', 'filtered_list');\n    form.append('id', audioFile.id);\n    axios({\n      method: 'post',\n      url: 'get-model/',\n      data: form\n    }).then(function (response) {\n      setNoiseclips(response.data);\n    });\n  }\n\n  const duration = parseFloat(audioFile.duration);\n\n  for (let i = 0; i < response.data.length; i++) {\n    let props = {\n      color: 'rgba(255,0,0,0.3)'\n    };\n\n    var highlight = /*#__PURE__*/_jsxDEV(\"script\", {\n      children: Highlight(props)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }, this);\n\n    ReactDOM.render(highlight, wave);\n    wave.appendChild(highlight);\n    highlight = document.createElement(\"div\");\n    wave.appendChild(highlight);\n    highlight.className = 'highlight';\n  } // let color = response.data[i]['color']\n  // let color = 'rgba(255,0,0,0.3)'\n  // console.log(color)\n  // let start = parseFloat(response.data[i]['startTime'])\n  // let end = parseFloat(response.data[i]['endTime'])\n  // let relStart = Math.round(100*start/duration)\n  // let relEnd = Math.round(100*end/duration)\n  // highlight.style.width = String(relEnd-relStart) + \"%\";\n  // highlight.style.height = '100px';\n  // highlight.style.backgroundColor = color;\n  // highlight.style.marginLeft = String(relStart) + \"%\";\n  // highlight.style.marginTop = '-100px'\n  // highlight.style.position = 'relative'; //required to bring highlight to front of page\n  // highlight.style.zIndex = 10;\n  // highlight.highlight_id = response.data[i]['id']\n  // highlight.call = response.data[i]['referenceTitle']\n\n\n  if (!props.audioFile) return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: highlights\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Highlights, \"2doSFL6fLdgUEBHkrO/pPlkCvZE=\");\n\n_c = Highlights;\n\nfunction generateHighlights() {\n  // setWavesurferReady(false)\n  // remove any highlights currently on document\n  let hls = document.getElementsByClassName('highlight');\n\n  for (let i = hls.length - 1; i >= 0; i--) {\n    hls[i].remove();\n  }\n\n  var wave = document.getElementById('wave');\n  console.log(wave);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"hello!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this); // ReactDOM.unmountComponentAtNode(wave)\n  // const form = (new FormData)\n  // form.append('object', 'Noiseclip')\n  // form.append('return', 'filtered_list')\n  // form.append('id', audioFile.id)\n  // axios({\n  //     method: 'post',\n  //     url: 'get-model/',\n  //     data: form\n  // }).then(function(response) {\n  //     const duration = parseFloat(audioFile.duration)\n  //     for(let i=0;i<response.data.length;i++) {\n  //         let props = {\n  //             color: 'rgba(255,0,0,0.3)',\n  //         }\n  //         console.log('returning...')\n  //         return (\n  //             <Highlight {...props}/>\n  //         )\n  // var highlight = <script>{Highlight(props)}</script>\n  // ReactDOM.render(highlight, wave)\n  // wave.appendChild(highlight)\n  // highlight = document.createElement(\"div\")\n  // wave.appendChild(highlight)\n  // highlight.className = 'highlight'\n}\n\nexport default Highlights;\n\nvar _c;\n\n$RefreshReg$(_c, \"Highlights\");","map":{"version":3,"sources":["/Users/kaspar/Documents/GitHub/React-Django-startApp/app/frontend/src/Components/Highlights.js"],"names":["useState","useEffect","axios","Highlights","props","noiseclips","setNoiseclips","console","log","updateNoiseclips","form","FormData","append","audioFile","id","method","url","data","then","response","duration","parseFloat","i","length","color","highlight","Highlight","ReactDOM","render","wave","appendChild","document","createElement","className","highlights","generateHighlights","hls","getElementsByClassName","remove","getElementById"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nfunction Highlights(props) {\n\n    const [ noiseclips, setNoiseclips ] = useState(null)\n\n    useEffect(() => {\n        console.log('tolato')\n        updateNoiseclips()\n    }, [props])\n\n    function updateNoiseclips() {\n        //get noiseclips associated with audioFile from database\n        const form = (new FormData)\n        form.append('object', 'Noiseclip')\n        form.append('return', 'filtered_list')\n        form.append('id', audioFile.id)\n\n        axios({\n            method: 'post',\n            url: 'get-model/',\n            data: form\n        }).then(function(response) {\n            setNoiseclips(response.data)\n        })\n    }\n\n    const duration = parseFloat(audioFile.duration)\n\n    for(let i=0;i<response.data.length;i++) {\n\n        let props = {\n            color: 'rgba(255,0,0,0.3)',\n        }\n\n\n\n        var highlight = <script>{Highlight(props)}</script>\n        ReactDOM.render(highlight, wave)\n        wave.appendChild(highlight)\n        highlight = document.createElement(\"div\")\n        wave.appendChild(highlight)\n        highlight.className = 'highlight'\n    }\n    // let color = response.data[i]['color']\n    // let color = 'rgba(255,0,0,0.3)'\n    // console.log(color)\n\n    // let start = parseFloat(response.data[i]['startTime'])\n    // let end = parseFloat(response.data[i]['endTime'])\n\n    // let relStart = Math.round(100*start/duration)\n    // let relEnd = Math.round(100*end/duration)\n\n    // highlight.style.width = String(relEnd-relStart) + \"%\";\n    // highlight.style.height = '100px';\n    // highlight.style.backgroundColor = color;\n    // highlight.style.marginLeft = String(relStart) + \"%\";\n    // highlight.style.marginTop = '-100px'\n    // highlight.style.position = 'relative'; //required to bring highlight to front of page\n    // highlight.style.zIndex = 10;\n    // highlight.highlight_id = response.data[i]['id']\n\n    // highlight.call = response.data[i]['referenceTitle']\n\n    if (!props.audioFile) return (\n        <div/>\n    )\n    \n    return (\n    <div>\n        {highlights}\n    </div>\n    )\n}\n\n\nfunction generateHighlights() {\n\n    // setWavesurferReady(false)\n\n    // remove any highlights currently on document\n    let hls = document.getElementsByClassName('highlight')\n    for (let i=hls.length-1; i>=0; i--) {\n        hls[i].remove()\n    }\n\n    var wave = document.getElementById('wave')\n    console.log(wave)\n\n\n    return (\n        <div>hello!</div>\n    )\n\n    // ReactDOM.unmountComponentAtNode(wave)\n\n    // const form = (new FormData)\n    // form.append('object', 'Noiseclip')\n    // form.append('return', 'filtered_list')\n    // form.append('id', audioFile.id)\n\n    // axios({\n    //     method: 'post',\n    //     url: 'get-model/',\n    //     data: form\n    // }).then(function(response) {\n    \n    //     const duration = parseFloat(audioFile.duration)\n\n    //     for(let i=0;i<response.data.length;i++) {\n\n    //         let props = {\n    //             color: 'rgba(255,0,0,0.3)',\n    //         }\n\n    //         console.log('returning...')\n\n    //         return (\n    //             <Highlight {...props}/>\n    //         )\n\n            // var highlight = <script>{Highlight(props)}</script>\n            // ReactDOM.render(highlight, wave)\n            // wave.appendChild(highlight)\n            // highlight = document.createElement(\"div\")\n            // wave.appendChild(highlight)\n            // highlight.className = 'highlight'\n}\n\n\n\nexport default Highlights"]},"metadata":{},"sourceType":"module"}