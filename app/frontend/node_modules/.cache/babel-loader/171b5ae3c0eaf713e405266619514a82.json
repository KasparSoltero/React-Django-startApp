{"ast":null,"code":"var _jsxFileName = \"/Users/kaspar/Documents/GitHub/React-Django-startApp/app/frontend/src/Components/Highlights.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Highlights(props) {\n  _s();\n\n  const [noiseclips, setNoiseclips] = useState(null);\n  useEffect(() => {\n    console.log('tolato');\n    updateNoiseclips();\n  }, [props]);\n\n  function updateNoiseclips() {\n    //get noiseclips associated with audioFile from database\n    const form = new FormData();\n    form.append('object', 'Noiseclip');\n    form.append('return', 'filtered_list');\n    form.append('id', props.audioFile.id);\n    axios({\n      method: 'post',\n      url: 'get-model/',\n      data: form\n    }).then(function (response) {\n      setNoiseclips(response.data);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: noiseclips ? noiseclips.map(function (nc) {\n      console.log(nc);\n      const duration = parseFloat(props.audioFile.duration); // let color = response.data[i]['color']\n\n      let color = 'rgba(255,0,0,0.3)';\n      console.log(color);\n      let start = parseFloat(nc.startTime);\n      let end = parseFloat(nc.endTime);\n      let relStart = Math.round(100 * start / duration);\n      let relEnd = Math.round(100 * end / duration);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"highlight\",\n        style: {\n          width: String(relEnd - relStart) + \"%\",\n          height: '100px',\n          backgroundColor: color,\n          marginLeft: String(relStart) + \"%\",\n          top: '0px',\n          position: 'absolute',\n          zIndex: 10\n        },\n        onMouseDown: handleMouseDown,\n        onMouseUp: handleMouseUp,\n        onPointerMove: handlePointerMove\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this);\n    }) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Highlights, \"2doSFL6fLdgUEBHkrO/pPlkCvZE=\");\n\n_c = Highlights;\nexport default Highlights;\n\nvar _c;\n\n$RefreshReg$(_c, \"Highlights\");","map":{"version":3,"sources":["/Users/kaspar/Documents/GitHub/React-Django-startApp/app/frontend/src/Components/Highlights.js"],"names":["useState","useEffect","axios","Highlights","props","noiseclips","setNoiseclips","console","log","updateNoiseclips","form","FormData","append","audioFile","id","method","url","data","then","response","map","nc","duration","parseFloat","color","start","startTime","end","endTime","relStart","Math","round","relEnd","width","String","height","backgroundColor","marginLeft","top","position","zIndex","handleMouseDown","handleMouseUp","handlePointerMove"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AAEvB,QAAM,CAAEC,UAAF,EAAcC,aAAd,IAAgCN,QAAQ,CAAC,IAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAC,IAAAA,gBAAgB;AACnB,GAHQ,EAGN,CAACL,KAAD,CAHM,CAAT;;AAKA,WAASK,gBAAT,GAA4B;AACxB;AACA,UAAMC,IAAI,GAAI,IAAIC,QAAJ,EAAd;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAsB,WAAtB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAsB,eAAtB;AACAF,IAAAA,IAAI,CAACE,MAAL,CAAY,IAAZ,EAAkBR,KAAK,CAACS,SAAN,CAAgBC,EAAlC;AAEAZ,IAAAA,KAAK,CAAC;AACFa,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAE,YAFH;AAGFC,MAAAA,IAAI,EAAEP;AAHJ,KAAD,CAAL,CAIGQ,IAJH,CAIQ,UAASC,QAAT,EAAmB;AACvBb,MAAAA,aAAa,CAACa,QAAQ,CAACF,IAAV,CAAb;AACH,KAND;AAOH;;AAED,sBACI;AAAA,cACKZ,UAAU,GAAGA,UAAU,CAACe,GAAX,CAAe,UAASC,EAAT,EAAa;AACtCd,MAAAA,OAAO,CAACC,GAAR,CAAYa,EAAZ;AAEA,YAAMC,QAAQ,GAAGC,UAAU,CAACnB,KAAK,CAACS,SAAN,CAAgBS,QAAjB,CAA3B,CAHsC,CAKtC;;AACA,UAAIE,KAAK,GAAG,mBAAZ;AACAjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AAEA,UAAIC,KAAK,GAAGF,UAAU,CAACF,EAAE,CAACK,SAAJ,CAAtB;AACA,UAAIC,GAAG,GAAGJ,UAAU,CAACF,EAAE,CAACO,OAAJ,CAApB;AAEA,UAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,MAAIN,KAAJ,GAAUH,QAArB,CAAf;AACA,UAAIU,MAAM,GAAGF,IAAI,CAACC,KAAL,CAAW,MAAIJ,GAAJ,GAAQL,QAAnB,CAAb;AAEA,0BACI;AACI,QAAA,SAAS,EAAC,WADd;AAEI,QAAA,KAAK,EAAE;AACHW,UAAAA,KAAK,EAAEC,MAAM,CAACF,MAAM,GAACH,QAAR,CAAN,GAA0B,GAD9B;AAEHM,UAAAA,MAAM,EAAC,OAFJ;AAGHC,UAAAA,eAAe,EAAEZ,KAHd;AAIHa,UAAAA,UAAU,EAAEH,MAAM,CAACL,QAAD,CAAN,GAAmB,GAJ5B;AAKHS,UAAAA,GAAG,EAAE,KALF;AAMHC,UAAAA,QAAQ,EAAE,UANP;AAOHC,UAAAA,MAAM,EAAE;AAPL,SAFX;AAWI,QAAA,WAAW,EAAEC,eAXjB;AAYI,QAAA,SAAS,EAAEC,aAZf;AAaI,QAAA,aAAa,EAAEC;AAbnB;AAAA;AAAA;AAAA;AAAA,cADJ;AAiBH,KAhCa,CAAH,GAgCN;AAjCT;AAAA;AAAA;AAAA;AAAA,UADJ;AAqCC;;GA9DIxC,U;;KAAAA,U;AAiET,eAAeA,UAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nfunction Highlights(props) {\n\n    const [ noiseclips, setNoiseclips ] = useState(null)\n\n    useEffect(() => {\n        console.log('tolato')\n        updateNoiseclips()\n    }, [props])\n\n    function updateNoiseclips() {\n        //get noiseclips associated with audioFile from database\n        const form = (new FormData)\n        form.append('object', 'Noiseclip')\n        form.append('return', 'filtered_list')\n        form.append('id', props.audioFile.id)\n\n        axios({\n            method: 'post',\n            url: 'get-model/',\n            data: form\n        }).then(function(response) {\n            setNoiseclips(response.data)\n        })\n    }\n\n    return (\n        <div>\n            {noiseclips ? noiseclips.map(function(nc) {\n                console.log(nc)\n\n                const duration = parseFloat(props.audioFile.duration)\n                \n                // let color = response.data[i]['color']\n                let color = 'rgba(255,0,0,0.3)'\n                console.log(color)\n\n                let start = parseFloat(nc.startTime)\n                let end = parseFloat(nc.endTime)\n\n                let relStart = Math.round(100*start/duration)\n                let relEnd = Math.round(100*end/duration)\n\n                return (\n                    <div \n                        className='highlight' \n                        style={{\n                            width: String(relEnd-relStart) + \"%\",\n                            height:'100px',\n                            backgroundColor: color,\n                            marginLeft: String(relStart) + \"%\",\n                            top: '0px',\n                            position: 'absolute',\n                            zIndex: 10,\n                        }}\n                        onMouseDown={handleMouseDown} \n                        onMouseUp={handleMouseUp} \n                        onPointerMove={handlePointerMove} \n                    />\n                )\n            }) : null}\n        </div>\n        )\n    }\n\n\nexport default Highlights"]},"metadata":{},"sourceType":"module"}